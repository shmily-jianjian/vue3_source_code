{
  "version": 3,
  "sources": ["../src/index.ts", "../src/effect.ts", "../../shared/src/index.ts", "../src/reactivity.ts"],
  "sourcesContent": ["export { effect } from './effect'\nexport { reactivity } from './reactivity'\n\n", "\nclass ReactiveEffect {\n  public active = true\n  constructor(public fn) {}\n  run() {\n    this.fn()\n  }\n}\n\nexport function effect(fn) {\n  const _effect = new ReactiveEffect(fn)\n  _effect.run()\n}", "export const isObj = (val: any) => {\n  return typeof val === 'object' && val !== null\n}", "import { isObj } from \"@vue/shared\";\n\nconst enum ReactivityFlags {\n  IS_REACIVITY = '__v_isReacivity'\n}\n\n// \u5B58\u50A8\u4EE3\u7406\u8FC7\u7684\u5BF9\u8C61\nconst reactivityMap = new WeakMap()\n\nexport function reactivity(target) {\n  if(!isObj(target)) {\n    return target\n  }\n\n  // \u5224\u65AD\u4F20\u5165\u7684\u5BF9\u8C61\u662F\u5426\u662F\u5DF2\u7ECF\u88AB\u4EE3\u7406\u8FC7\u4E86\n  if(target[ReactivityFlags.IS_REACIVITY]) {\n    // \u4E0B\u6B21\u5728\u8FDB\u6765\u7684\u65F6\u5019\u4F1A\u89E6\u53D1get\u65B9\u6CD5\uFF0C\u56E0\u4E3A\u6B64\u65F6\u7684target\u5DF2\u7ECF\u662F\u4EE3\u7406\u5BF9\u8C61\u4E86\n    return target\n  }\n\n  const isExist = reactivityMap.get(target)\n  if(isExist) {\n    return isExist\n  }\n\n  const proxyTarget = new Proxy(target, {\n    get(target, key, receiver) {\n      console.log('\u6267\u884Cget\u65B9\u6CD5\u4E86');\n      console.log('key', key);\n      // \u518D\u6B21\u4F20\u5165target\u4E3A\u4EE3\u7406\u5BF9\u8C61\u65F6\u5019\u8FD4\u56DEtrue, \u5F53\u5230\u8FBE16\u884C\u65F6\u5019\u5C31\u4F1Aif(true) return target\u4E86\n      if(key === ReactivityFlags.IS_REACIVITY) {\n        return true\n      }\n      return Reflect.get(target, key, receiver)\n    },\n    set(target, key, value, receiver) { \n      console.log('\u6267\u884Cset\u65B9\u6CD5\u4E86');\n      console.log('key', key);\n      return Reflect.set(target, key, value, receiver)\n    }\n  })\n  reactivityMap.set(target, proxyTarget)\n  return proxyTarget\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACCA,MAAM,iBAAN,MAAqB;AAAA,IAEnB,YAAmB,IAAI;AAAJ;AADnB,WAAO,SAAS;AAAA,IACQ;AAAA,IACxB,MAAM;AACJ,WAAK,GAAG;AAAA,IACV;AAAA,EACF;AAEO,WAAS,OAAO,IAAI;AACzB,UAAM,UAAU,IAAI,eAAe,EAAE;AACrC,YAAQ,IAAI;AAAA,EACd;;;ACZO,MAAM,QAAQ,CAAC,QAAa;AACjC,WAAO,OAAO,QAAQ,YAAY,QAAQ;AAAA,EAC5C;;;ACKA,MAAM,gBAAgB,oBAAI,QAAQ;AAE3B,WAAS,WAAW,QAAQ;AACjC,QAAG,CAAC,MAAM,MAAM,GAAG;AACjB,aAAO;AAAA,IACT;AAGA,QAAG,OAAO,oCAA4B,GAAG;AAEvC,aAAO;AAAA,IACT;AAEA,UAAM,UAAU,cAAc,IAAI,MAAM;AACxC,QAAG,SAAS;AACV,aAAO;AAAA,IACT;AAEA,UAAM,cAAc,IAAI,MAAM,QAAQ;AAAA,MACpC,IAAIA,SAAQ,KAAK,UAAU;AACzB,gBAAQ,IAAI,mCAAU;AACtB,gBAAQ,IAAI,OAAO,GAAG;AAEtB,YAAG,QAAQ,sCAA8B;AACvC,iBAAO;AAAA,QACT;AACA,eAAO,QAAQ,IAAIA,SAAQ,KAAK,QAAQ;AAAA,MAC1C;AAAA,MACA,IAAIA,SAAQ,KAAK,OAAO,UAAU;AAChC,gBAAQ,IAAI,mCAAU;AACtB,gBAAQ,IAAI,OAAO,GAAG;AACtB,eAAO,QAAQ,IAAIA,SAAQ,KAAK,OAAO,QAAQ;AAAA,MACjD;AAAA,IACF,CAAC;AACD,kBAAc,IAAI,QAAQ,WAAW;AACrC,WAAO;AAAA,EACT;",
  "names": ["target"]
}
